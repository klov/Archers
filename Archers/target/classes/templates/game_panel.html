<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Game panel</title>
        <link rel="stylesheet" type="text/css" media="screen, projection"
              th:href="@{/css/lib/bootstrap.min.css}"/>
        <link rel="stylesheet" type="text/css" media="screen, projection"
              th:href="@{/css/lib/smoke.min.css}"/>
        <link rel="stylesheet" type="text/css" media="screen, projection"
              th:href="@{/css/app.css}"/>
        <link rel="stylesheet" type="text/css" media="screen, projection"
              th:href="@{/css/lib/jquery-ui.css}"/>
        <script th:src="@{/js/lib/jquery-1.12.0.min.js}"></script>
        <script th:src="@{/js/lib/jquery-ui.min.js}"></script>
        <script th:src="@{/js/lib/bootstrap.min.js}"></script>
        <script th:src="@{/js/lib/angular.min.1.4.9.js}"></script>
        <script th:src="@{/js/lib/sockjs-0.3.4.js}"></script>
        <script th:src="@{/js/lib/stomp.js}"></script>
        <script th:src="@{/js/app.js}"></script>
    </head>
    <body ng-app="app" ng-controller="GamePanelController as ctrl">

        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="row">
                    <span class="lead" style="padding-left: 15px;">Игра {{ctrl.game.name}}</span>
                </div>
            </div>
            <div class="panel panel-default" 
                 style="padding-left: 0px;
                 padding-right: 0px;
                 margin-bottom: 10px;">
                <div class="panel-heading">
                    <div class="row">
                        <span class="lead" style="padding-left: 15px;">Игроки:</span>
                    </div>
                </div>
                <div class="tablecontainer" style="height: 400px;">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Имя</th>
                                <th>Статус</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="p in ctrl.players" style="background-color:{{p.status ==='готов'?'#a2dd94;':'#ffa195;'}}">
                                <td><span ng-bind="p.name"></span></td>
                                <td><span ng-bind="p.status"></span></td>
                            </tr>                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="row col-md-12">
            <div class="form-actions"
                 style="padding-left: 20px;">
                <button type="button"  
                        class="btn btn-primary"
                        ng-click="ctrl.ready()">Готов</button>
                <button type="button"  
                        class="btn btn-success"
                        ng-show="ctrl.isShow()"
                        ng-disabled="ctrl.isDisable()"
                        ng-click="ctrl.start()">Начать</button>
            </div>
        </div>

        <script th:src="@{/js/game_panel/service.js}"></script>
        <script th:src="@{/js/game_panel/controller.js}"></script>
    </body>
</html>

